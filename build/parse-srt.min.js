!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.parseSRT=e()}(this,function(){"use strict";/**
 * @name parseSRT
 * @desc Parses and converts SRT subtitle data into JSON format. Adapted from the popcorn.js SRT parser plugin.
 * @see http://popcornjs.org/
 * @author Luis Rodrigues (http://www.luisrodriguesweb.com)
 * @version 1.0.0-alpha
 * @license MIT
 */
function t(t){var e=t.split(":");try{var r=e[2].split(",");return 1===r.length&&(r=e[2].split(".")),3600*parseFloat(e[0],10)+60*parseFloat(e[1],10)+parseFloat(r[0],10)+parseFloat(r[1],10)/1e3}catch(t){return 0}}function e(t,e){for(var r=e;!t[r];)r++;return r}function r(t){for(var e=t.length-1;e>=0&&!t[e];)e--;return e}function n(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{propName:{}},i=[],p=n.split(/(?:\r\n|\r|\n)/gm),a=r(p)+1,s=0,l=void 0,u=void 0,f=void 0,d=0;d<a;d++){for(f={},u=[],d=e(p,d),f.id=parseInt(p[d++],10),l=p[d++].split(/[\t ]*-->[\t ]*/),f[o.propName.start||"start"]=o.timeInText?l[0]:t(l[0]),s=l[1].indexOf(" "),-1!==s&&(l[1]=l[1].substr(0,s)),f[o.propName.end||"end"]=o.timeInText?l[1]:t(l[1]);d<a&&p[d];)u.push(p[d++]);var c=o.propName.text||"text";f[c]=u.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),f[c]=f[c].replace(/</g,"&lt;").replace(/>/g,"&gt;"),f[c]=f[c].replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>"),f[c]=f[c].replace(/\\N/gi,"<br />"),i.push(f)}return i}return n});
//# sourceMappingURL=parse-srt.min.js.map
